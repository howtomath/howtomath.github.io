<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="Cache-Control" content="no-store, no-cache, must-revalidate, proxy-revalidate, max-age=0">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="Thu, 01 Jan 1970 00:00:00 GMT">
  <title>How to Math</title>
  <link rel="stylesheet" href="/css/g.css?v=1.0.1">
  <style>
    .clock {
      color: #98ff98;
      font-size: 1.2rem;
      text-align: center;
      margin-bottom: 0.3rem;
      font-family: monospace;
    }

    @keyframes spinFadeOut {
      0% {
        opacity: 1;
        transform: rotate(0deg) scale(1);
      }
      100% {
        opacity: 0;
        transform: rotate(360deg) scale(0.1);
      }
    }

    .logo-spin-fade {
      animation: spinFadeOut 0.6s ease forwards;
    }

    .fade-in {
      animation: fadeIn 0.3s ease forwards;
    }

    .fade-out {
      animation: fadeOut 0.2s ease forwards;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(5px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeOut {
      from {
        opacity: 1;
        transform: translateY(0);
      }
      to {
        opacity: 0;
        transform: translateY(-5px);
      }
    }

    #page-content {
      padding: 1rem;
      max-width: 800px;
      margin: 2rem auto 0;
      text-align: center;
    }

    #page-content h2 {
      color: #98ff98;
    }

    body.page-fade-in {
      opacity: 0;
      animation: fadeIn 0.6s forwards;
    }
  </style>
</head>
<body>

  <header class="taskbar">
    <div class="side-text left">
      <p>
        The NEW...the IMPROVED...and let's be honest, the BEST of gaming websites...
        HOW TO MATH GAMES! It's here! With new updates almost always,
        How To Math Games is the next best gaming website, and to add to the excitement...
        your favorite web developer, GAVIN MADE IT!
      </p>
    </div>

    <div class="center-content">
      <div class="title">
        <div class="clock" id="clock">--:--:--</div>
        <h1>HOW TO MATH <strong>GAMES</strong></h1>
        <nav class="nav-links">
          <a href="#" class="nav-link" data-page="games">Games</a>
          <a href="#" class="nav-link" data-page="news">News</a>
          <a href="/index.html" class="nav-logo" id="logo-link"></a>
          <a href="#" class="nav-link" data-page="about">About</a>
          <a href="#" class="nav-link" data-page="suggest">Suggest</a>
        </nav>
      </div>
    </div>

    <div class="side-text right">
      <p>
        Feel free to suggest games, new ideas, new features, point out bugs,
        and imperfections in the website to make it better! Always remember,
        this is YOUR website, not mine. Now, get back to "learning" and have fun!
      </p>
    </div>
  </header>

  <main id="page-content"></main>

  <script>
    // Clock
    function updateClock() {
      const now = new Date();
      let hours = now.getHours();
      const minutes = String(now.getMinutes()).padStart(2, '0');
      const seconds = String(now.getSeconds()).padStart(2, '0');
      const ampm = hours >= 12 ? 'PM' : 'AM';
      hours = hours % 12 || 12;
      document.getElementById('clock').textContent = `${hours}:${minutes}:${seconds} ${ampm}`;
    }
    setInterval(updateClock, 1000);
    updateClock();

    // Page Switching
    document.addEventListener('DOMContentLoaded', function () {
      const links = document.querySelectorAll('.nav-link');
      const content = document.getElementById('page-content');

      const pages = {
        games: `<h2>Games</h2>
        <p>Here's where your awesome math games go!</p>
        <div class="game-container">
<a href="./g/IdleBreakout/index.html">
    <img src="./g/IdleBreakout/img/favicon.png" alt="Idle-Breakout" class="game-image">
</a>`,
        news: `<h2>News</h2><p>All the freshest updates from your favorite site.</p>`,
        about: `<h2>About</h2><p>Made with love by Gavin. Math meets magic âœ¨</p>`,
        suggest: `<div id="page-content">
  <h2>Suggest</h2>
  <p>Got an idea? Let us know!</p>

  <style>
  #suggestion-form {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    font-family: monospace;
    color: #98ff98;
  }

  #suggestion-form label {
    display: flex;
    flex-direction: column;
    color: #98ff98;
    text-shadow: 0 0 5px #98ff98;
  }

  #suggestion-form input,
  #suggestion-form textarea,
  #suggestion-form select {
    background: transparent;
    border: 1px solid #98ff98;
    padding: 0.5rem;
    color: #98ff98;
    font-family: monospace;
    border-radius: 5px;
    box-shadow: 0 0 5px #98ff98;
  }

  #suggestion-form button {
    background-color: transparent;
    border: 2px solid #98ff98;
    color: #98ff98;
    padding: 0.5rem 1rem;
    font-family: monospace;
    font-weight: bold;
    border-radius: 5px;
    cursor: pointer;
    box-shadow: 0 0 8px #98ff98;
    transition: 0.3s;
  }

  #suggestion-form button:hover {
    background-color: #98ff9810;
    box-shadow: 0 0 12px #98ff98;
  }

  #response-msg {
    font-family: monospace;
    color: #98ff98;
    margin-top: 0.5rem;
  }
</style>

<form id="suggestion-form">
  <label for="type">What would you like to submit?</label>
  <select id="type" name="type" required>
    <option value="">-- Select one --</option>
    <option value="game">Suggest a Game</option>
    <option value="bug">Report a Bug</option>
    <option value="feature">Suggest a Feature</option>
    <option value="other">Other</option>
  </select>

  <div id="fields-container"></div>

  <button type="submit">Submit</button>
  <p id="response-msg"></p>
</form>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const typeSelect = document.getElementById('type');
    const fieldsContainer = document.getElementById('fields-container');
    const form = document.getElementById('suggestion-form');
    const responseMsg = document.getElementById('response-msg');

    const fieldTemplates = {
      game: `
        <label>Game Name: <input name="game_name" required></label>
        <label>Why should we add it? <textarea name="reason" required></textarea></label>
      `,
      bug: `
        <label>Bug Description: <textarea name="bug_description" required></textarea></label>
        <label>Page/Feature Affected: <input name="affected_area" required></label>
      `,
      feature: `
        <label>Feature Idea: <textarea name="feature_idea" required></textarea></label>
        <label>Why is it helpful? <textarea name="feature_reason" required></textarea></label>
      `,
      other: `
        <label>Message: <textarea name="other_message" required></textarea></label>
      `
    };

    typeSelect.addEventListener('change', () => {
      const type = typeSelect.value;
      fieldsContainer.innerHTML = fieldTemplates[type] || '';
    });

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const formData = new FormData(form);
      const json = Object.fromEntries(formData.entries());

      fetch("https://formspree.io/f/mzzeqeyr", {
        method: "POST",
        headers: {
          "Accept": "application/json",
          "Content-Type": "application/json"
        },
        body: JSON.stringify(json)
      }).then(response => {
        if (response.ok) {
          responseMsg.textContent = "Thanks for your suggestion! ðŸ˜„";
          form.reset();
          fieldsContainer.innerHTML = '';
        } else {
          responseMsg.textContent = "Oops! Something went wrong. ðŸ˜ž";
        }
      }).catch(error => {
        console.error(error);
        responseMsg.textContent = "Failed to submit. Try again later.";
      });
    });
  });
  </script>
</body>
</html>
